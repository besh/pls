<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Wait Pls Demo</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/waitpls.css">
  <link rel="stylesheet" href="css/main.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/waitpls.js"></script>
</head>

<html>
  <body>
    <header>
      <h1>Waitpls</h1>
      <h2><em>A simple loading overlay</em></h2>
    </header>

    <section>
      <p><strong>Waitpls</strong> is a small and simple JavaScript library used to easily control loading overlays</p>
      <a href="#" id="simulate" class="btn">Simulate Request!</a>
    </section>

    <section>
      <p>The above uses two methods</p>
      <div class="code-block">
        <code>
          <span>// for inital request</span>
          <p>waitpls.on(text, delay)</p>
          <span>// after request has completed</span>
          <p>waitpls.off(text, delay)</p>
        </code>
      </div>
    </section>

    <section>
      <p><strong>Waitpls</strong> can also handle multiple request! Just pass in the parent container you want it to append to.</p>
      <div class="code-block">
        <code>
          <span></span>
          <p>waitpls.on(text, delay, parent)</p>
        </code>
      </div>
    </section>

    <ul>
      <li class="item">
        <div class="image">
          <img src="http://placekitten.com/g/200/200" alt="cat 1">
        </div>
        <a href="#" class="btn add-to-cart">Add to cart</a>
      </li>
      <li class="item">
        <div class="image">
          <img src="http://placekitten.com/g/300/300" alt="cat 2">
        </div>
        <a href="#" class="btn add-to-cart">Add to cart</a>
      </li>
      <li class="item">
        <div class="image">
          <img src="http://placekitten.com/g/350/350" alt="cat 3">
        </div>
        <a href="#" class="btn add-to-cart">Add to cart</a>
      </li>
    </ul>

    <div class="waitpls main">
      <div class="container">
        <div class="spinner"></div>
        <p>Wait pls</p>
      </div>
      <div class="background"></div>
    </div>

  </body>

  <script>
    document.getElementById('simulate').onclick = function(event){
      event.preventDefault();
      waitpls.on('Wait pls...');

      // simulate request
      setTimeout(function() {
        waitpls.off('All done!', 2000);
      }, 2000);
    };

    $('.add-to-cart').eq(0).on('click', function(e) {
      e.preventDefault();
      var parent = $(this).parent('.item');
      waitpls.on('Adding to cart...', parent);

      //simulate request
      setTimeout(function() {
        waitpls.off('Something went wrong :(', parent, 2000);
      }, 5000);
    });

    $('.add-to-cart').eq(1).on('click', function(e) {
      e.preventDefault();
      var parent = $(this).parent('.item');
      waitpls.on('Adding to cart...', parent);

      //simulate request
      setTimeout(function() {
        waitpls.off('Added!', parent, 2000);
      }, 2000);
    });

    $('.add-to-cart').eq(2).on('click', function(e) {
      e.preventDefault();
      var parent = $(this).parent('.item');
      waitpls.on('Adding to cart...', parent);

      //simulate request
      setTimeout(function() {
        waitpls.step('Almost done...', parent)
        setTimeout(function() {
          waitpls.off('Added!', parent, 2000);
        }, 5000);
      }, 5000);
    });



  </script>

</html>
